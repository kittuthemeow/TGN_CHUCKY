import random
import threading
from typing import Union

from TGNRobot.modules.helper_funcs.msg_types import Types
from TGNRobot.modules.sql import BASE, SESSION
from sqlalchemy import BigInteger, Boolean, Column, Integer, String, UnicodeText

 DEFAULT_WELCOME = 'роПропрпН {first}, роирпАроЩрпНроХро│рпН роОрокрпНрокроЯро┐ роЗро░рпБроХрпНроХро┐ро▒рпАро░рпНроХро│рпН?'
DEFAULT_GOODBYE = 'рокрпЗроЪ родрпЖро░ро┐роЮрпНроЪро╛ рокрпЗроЪрпБ родрпЗро╡рпИропро┐ро▓рпНро▓ро╛роо рокрпЗроЪро┐ роЕроЯро┐ро╡ро╛роЩрпНроХро┐ роЪро╛роХродро╛ ЁЯдм!'

DEFAULT_WELCOME_MESSAGES = [
    "{first}  роЙроЩрпНроХро│рпБроХрпНроХро╛роХ родро╛ройрпН роОро▓рпНро▓ро╛ро░рпБроорпН роХро╛родрпНродрпБроХро┐роЯрпНроЯрпБ роЗро░рпБроирпНродрпЛроорпН! Welcome ЁЯе│!",  #Discord welcome messages copied
    "роирпАроЩрпНроХ рокрпЖро░ро┐роп роХрпИродро┐ роОро▓рпНро▓ро╛роорпН рокро╛родрпНродрпБро░рпБрокрпНрокро┐роЩрпНроХ роЖройро╛ роЗрокрпНрок ро╡ро░рокрпНрокрпЛро▒родрпБ Master {first}",
    "роОро╡рпНро╡ро│рпЛ рокрпЗро░рпН роЗро░рпБроХрпНроХро┐ро▒ро╛роЩрпНроХрпБро▒родрпНродрпБ роорпБроХрпНроХро┐ропроорпН роЗро▓рпНро▓рпИ! , {first} роЗро░рпБроХрпНроХро╛ройрпНро▒родрпБродро╛ройрпН роорпБроХрпНроХро┐ропроорпН!ЁЯШП.",
    "ро╡ро╛роЩрпНроХ {first} ро╡роирпНродрпБ роорпКроХрпНроХ роЕро▒рпБро╡рпИропрпИ рокрпЛроЯрпБроЩрпНроХ!ЁЯШВ.",
    "{first} роЗро░рпБ роЗродропроорпН роТро░рпБ роЗродропроорпН роЖройродрпЗ роЗро░рпБ роЗродропроорпН роТро░рпБ роЗродропроорпН роЖройродрпЗ! роЕроирпНрод роТро░рпБ роЗродропроорпН роЕроирпНрод роТро░рпБ роЗродропроорпН роирпКро░рпБроЩрпНроХро┐рокрпНрокрпЛройродрпЗ! ЁЯдгЁЯдгЁЯШВЁЯШВЁЯШВтЭдя╕ПтЭдя╕П",
    "{first} IPL ро▓ро┐ро▓рпН роЕродро┐роХ роХрпЛрокрпНрокрпИропрпИ ро╡рпЖройрпНро▒ роТро░рпБ родройро┐ роирокро░рпН ропро╛ро░рпН?ЁЯПЖ.",
    "{first} IPL ро▓ро┐ро▓рпН роЪро┐ро▒роирпНрод Captain ропро╛ро░рпН?ЁЯПП",
    "{first} Love-ройрпНро▒родрпБ роЖропро╛ роЪрпБроЯрпБро▒ ро╡роЯрпИ рооро╛родро┐ро░ро┐ роЕроирпНрод ро╡роЯрпИроп роОрокрпНрокро╡рпЗрогрпБроорпНройро╛ро▓рпБроорпН роХро╛роХрпНроХ ро╡роирпНродрпБ роХро╡рпНро╡ро┐роЯрпНроЯрпБ рокрпЛроХрпБроорпН роЖройро╛ Friendship-ройрпНро▒родрпБ роЕроирпНрод роЖропро╛ рооро╛родро┐ро░ро┐ роЕроирпНрод роЖропро╛ро╡ роОро╡ройро╛ро▓рпБроорпН родрпВроХрпНроХ роорпБроЯро┐ропро╛родрпБ ЁЯШНЁЯе░",
    "{first} роирпАроЩрпНроХ Join рокрогрпНрогрод роиро╛роЩрпНроХ рокро╛ро░рпНродрпНродрпБроЯрпНроЯрпЛроорпН!ЁЯЩИЁЯЩК",
    "роТро░рпБ роХрпБро┤роирпНродрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро▒родрпНродрпБроХрпНроХрпБ рокродрпНродрпБ рооро╛роЪроорпН! роТро░рпБ рокроЯрпНроЯродро╛ро░ро┐ роЙро░рпБро╡ро╛роХрпНроХрпБро▒родрпНродрпБроХрпНроХрпБ роорпВройрпБ ро╡ро░рпБро╖роорпН! роЖройро╛ роТро░рпБ Best Admin роЙро░рпБро╡ро╛роХрпНроХрпБро▒родрпБроХрпНроХрпБ роТро░рпБ ропрпБроХроорпЗ родрпЗро╡рпИрокроЯрпБродрпБ, {first}. ЁЯШВЁЯдз",
    "{first} Chat роорпБроХрпНроХро┐ропроорпН рокро┐роХро┐ро▓рпБ..!ЁЯФе",
    "{first} роирпАроЩрпНроХ роЗроЩрпНроХ роЗро░рпБроХрпНроХрпАроЩрпНроХ! роЙроЩрпНроХ Friends-ро▓ро╛роорпН роОроЩрпНроХ? ЁЯди",
    "роирпАроЩрпНроХ ро╡рпЗрогро╛ Group-ро▓ Clash-роЕ Boss-роЕ роЪрпБродрпНродро▓ро╛роорпН роЖройро╛, {first}. Mass роОройрпНройройрпБ родрпЖро░ро┐ропро╛родрпБро▓!ЁЯШО.",
    "{first} родройро┐роорпИ роХрпКроЯрпБроорпИропро╛ройродрпБ! ЁЯе║ роЕродройро╛ро▓рпН, роОроЩрпНроХро│рпЛроЯрпБ роЪрпЗро░рпНроирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН!тШ║я╕П",
    "{first} родройро┐роорпИ роХрпКроЯрпБроорпИропро╛ройродрпБ! ЁЯе║ роЕродройро╛ро▓рпН, роОроЩрпНроХро│рпЛроЯрпБ роЪрпЗро░рпНроирпНродрпБ роХрпКро│рпНро│рпБроЩрпНроХро│рпН!тШ║я╕П.",
    "{first} роирпАроЩрпНроХро│рпН Join рокрогрпНрогро╛ роороЯрпНроЯрпБроорпН рокрпЛродро╛родрпБ роЙроЩрпНроХро│рпН Friends-ропрпБроорпН Invite рокрогрпНрогрпБроЩрпНроХ!ЁЯШР",
    "{first} тЭдя╕П роЙроЩрпНроХро│рпБроХрпНроХро╛роХ родро╛ройрпН роОро▓рпНро▓ро╛ро░рпБроорпН роХро╛родрпНродрпБроХро┐роЯрпНроЯрпБ роЗро░рпБроирпНродрпЛроорпН! Welcome ЁЯе│.",
    "{first} роиро╛ройрпН роЙройрпНрой ро╡ро┐ро░рпБроорпНрокро▓... роЙройрпН роорпЗро▓ роЖроЪрокрпНрокроЯро▓... роирпА роЕро┤роХро╛ роЗро░рпБроХрпНроХрпЗройрпБ роиро┐ройрпИроХрпНроХро▓... роЖройро╛ роЗродрпЖро▓рпНро▓ро╛роорпН роироЯроирпНродрпБроЯрпБроорпЛройрпБ рокропрооро╛ роЗро░рпБроХрпНроХрпБЁЯЩИЁЯЩИ",
    "роОройрпНрой роЮро╛рокроХроорпН роЗро░рпБроХрпНроХро╛ роороЪрпНроЪро╛ройрпН {first}.",
    "роиро▓рпНро▓ро╛ роХрпБро▒рпНро▒ро╛ро▓родрпНродрпБро▓ роЗро░рпБроХрпНроХро╡рпЗрогрпНроЯро┐ропро╡ройрпНро▓ро╛роорпН роЗроЩрпНроХ ро╡роирпНродрпБ роироорпНроо роЙропро┐ро░ ро╡ро╛роЩрпНроХрпБро▒ро╛роЩрпНроХрпЗ!ЁЯШТ{first}!",
    "{first} ЁЯШИ роЗродрпБ роХро▓ро╡ро░ рокрпВрооро┐ тЪФя╕ПЁЯЧбЁЯФк ! роЗроЩрпНроХрпБ роПройрпН ро╡роирпНродрпАроЩрпНроХ?ЁЯШ│",
    "{first} роОройрпНройро╡ро│рпЗ роОройрпН рооройродро┐ро▓рпН роЙро│рпНро│ роОройродрпБ роОрогрпНрогродрпНродрпИ роирпА роЕро▒ро┐роирпНродрпБроорпН роЕро▒ро┐ропро╛родродрпБ рокрпЛро▓ роироЯро┐роХрпНроХро┐ро▒ро╛ропро╛ роЗро▓рпНро▓рпИ родроХрпБроирпНрод роЪроирпНродро░рпНрокрпНрокроорпН роЕроорпИропроЯрпНроЯрпБроорпН роОрой роОродро┐ро░рпНрокро╛ро░рпНродрпНродрпБ роХро╛родрпНродро┐ро░рпБроХрпНроХро┐ро▒ро╛ропро╛ рокрпЖрогрпНрогрпЗЁЯе│ЁЯе░!",
    "{first} роТро░рпБ рокрпВ рооро▓ро░ рокро▓ рокро░рпБро╡роЩрпНроХро│рпИ роХроЯроХрпНроХро┐ро▒родрпБ роирпА роЙройрпН ро╡ро╛ро┤рпНроХрпНроХрпИропрпИ роЙрогро░ рокро▓ родроЯрпИроХро│рпИ роХроЯроирпНродрпБ  роЪрпЖро▓рпН.роЗройро┐роп роХро╛ро▓рпИ ро╡рогроХрпНроХроорпН..",
    "{first} роЙройроХрпНроХрпБ welcome ро▓ рокрогрпНрог роорпБроЯро┐ропро╛родрпБ ЁЯШП",
    "{first} роЙроЩрпНроХро│рпН ро░ро╛роЪро┐ роОройрпНрой?ЁЯСА.",
    "{first} роирпАроЩрпНроХро│рпН роЕродро┐роХ роорпБро▒рпИ родро┐ро░рпИрокрпНрокроЯроорпН роОродрпБЁЯСА",
    "{first} роЪроорпНрокро╡роорпН роЪрпЖропрпНропрпБроорпН ро╡рпЗро▓рпИроп роОро▓рпНро▓ро╛роорпН роЕроЮрпНроЪро╛ро▒рпБ ро╡ро╛ро░роорпН роТродрпНродро┐ рокрпЛроЯрпБ GroupроХрпНроХрпБ ропро╛ро░рпБроорпН ро╡роирпНродро╛ро▓рпБроорпНроХрпВроЯ ро╡ро│рпНро│ро▓ро╛ро░рпН рокрпЛро▓ ро╡рогроХрпНроХроорпН рокрпЛроЯрпБ!ЁЯШВЁЯЩП",
    "{first} роЙро▓роХ роХрпЛрокрпНрокрпИ роХро┐ро░ро┐роХрпНроХрпЖроЯрпН ро╡ро┐ро│рпИропро╛роЯрпНроЯро┐ро▓рпН роЕродро┐роХ роорпБро▒рпИ роХрпЛрокрпНрокрпИропрпИ ро╡рпЖройрпНро▒ роЕрогро┐ роОродрпБ?ЁЯПЖ",
    "{first} роЙроЩрпНроХро│рпИ ропро╛ро░рпН (inspires)родрпВрогрпНроЯрпБроХро┐ро▒ро╛ро░рпНроХро│рпН? роирпАроЩрпНроХро│рпН ропро╛ро░рпИрокрпН рокрпЛро▓ роЗро░рпБроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│рпН? ЁЯОИ",
    "роЪроорпНрокро╡роорпН роЪрпЖропрпНропрпБроорпН ро╡рпЗро▓рпИроп роОро▓рпНро▓ро╛роорпН роЕроЮрпНроЪро╛ро▒рпБ ро╡ро╛ро░роорпН роТродрпНродро┐ рокрпЛроЯрпБ GroupроХрпНроХрпБ ропро╛ро░рпБроорпН ро╡роирпНродро╛ро▓рпБроорпНроХрпВроЯ ро╡ро│рпНро│ро▓ро╛ро░рпН рокрпЛро▓ ро╡рогроХрпНроХроорпН рокрпЛроЯрпБ!ЁЯШВЁЯЩП {first}",
    "{first}роЙроЩрпНроХро│рпБроХрпНроХрпБ Comedy рокрогрпНрог родрпЖро░ро┐ропрпБрооро╛? ЁЯШЗ",
    "{first} Long-ро▓ рокро╛ро░рпНродрпНродродрпНродро╛ройрпНроЯро╛ Comedy-ропро╛ роЗро░рпБрокрпНрокрпЗройрпН роХро┐роЯрпНроЯродрпНродрпБро▓ рокро╛ро░рпНродрпНрод Terror-роЖ роЗро░рпБрокрпНрокрпЗройрпНроЯро╛ Terror-роЖЁЯШд",
    "ро╡ро╛роЩрпНроХ {first} роОро▓рпНро▓ро╛ро░рпБроорпН Busy роиро╛ройрпН роЙроЩрпНроХро│рпИ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЗройрпНЁЯЩП",
    "{first} ропро╛ро░рпБроорпЗ роЗро▓рпНро▓ро╛род Group-ро▓ ропро╛ро░рпБроХрпНроХрпБроЯро╛ Message рокрогрпНро▒ роЙройрпН роХроЯроорпИ роЙрогро░рпНроЪрпНроЪро┐роХрпНроХрпБ роТро░рпБ роЕро│ро╡рпЗ роЗро▓рпНро▓рпИропро╛роЯро╛ЁЯджтАНтЩАЁЯШВ",
    "{first}роХро▓рокрпНрокроЯрооро╛рой роиро▓рпНро▓ро╡ройро╛ роЗро░рпБроХрпНроХрпБро▒родрпБроХрпНроХрпБ роЪрпБродрпНродрооро╛рой роХрпЖроЯрпНроЯро╡ройро╛  роЗро░рпБроирпНродрпБроЯрпНроЯрпБ рокрпЛроХро▓ро╛роорпНЁЯШН",
    "ро╡ро╛роЩрпНроХ {first} ро╡роирпНродрпБ роорпКроХрпНроХ роЕро▒рпБро╡рпИропрпИ рокрпЛроЯрпБроЩрпНроХ!ЁЯШВ",
    "ЁЯО║ родроЩрпНроХроорпЗ роЙройрпНройродрпНродро╛ройрпН родрпЗроЯро┐ро╡роирпНродрпЗройрпН роиро╛ройрпЗ ро╡рпИро░роорпЗ роТро░рпБроиро╛ро│рпН роЙройрпНройродрпН родрпВроХрпНроХрпБро╡рпЗройрпЗ..! ЁЯО║",
    "{first}  роОро▓рпНро▓ро╛ро░рпБроорпН рокрогроорпН роЗро░рпБроирпНродро╛ роиро┐роорпНроородро┐ропро╛ ро╡ро╛ро┤рпНроирпНродро┐ро░ро▓ро╛роорпНройрпБ роирпЖройрпИроХрпНроХрпБро▒ро╛роЩрпНроХ роЖройро╛ рокрогроорпН роЗро▓рпНро▓рпЗройрпНройро╛ роиро┐роорпНроородро┐ропро╛рой роЪро╛роХроХрпНроХрпВроЯ роорпБроЯро┐ропро╛родрпБройрпБ ропро╛ро░рпБроорпН роирпЖройрпИроХрпНроХрпБро▒родрпЗ роЗро▓рпНро▓рпИ!ЁЯОИ",
    "{first} Oii Selfie роОройроХрпНроХрпБ роОрокрпНрокрпЛ Ok роЪрпКро▓рпНро▓рпБро╡! ЁЯШЙ",
    "роироорпНроо роКро░рпБроХрпНроХрпБ роиро╛ропрпН рокрпБроЯро┐роХрпНроХрпБро▒ ро╡рогрпНроЯро┐ ро╡ро░роЯрпНроЯрпБроорпН роХрогрпНроЯро┐рокрпНрокро╛ {first}, роЙройрпНройрпИ роиро╛ройрпН рокрпБроЯро┐роЪрпНроЪрпБ роХрпБроЯрпБродрпНродрпБро▒рпЗройрпН!ЁЯШВ",
    "{first} Chatting Start рокрогрпНрог рооро╛роЯрпНроЯро╛ройрпН.рокрогрпНрогро┐роЯрпНроЯро╛ройрпН роиро┐ро▒рпБродрпНрод рооро╛роЯрпНроЯро╛ройрпНЁЯдк",
    "{first} роЕроЯро┐ро╡рпЖро│рпНро│ро╛ро╡ро┐ро╡роЪрпНроЪрпБродрпН родро╛ройрпН ро╡рпЖро│рпБродрпНродро╛ропрпНроЩрпНроХро│ро╛ роЙройрпНрой ро╡рпЖропро┐ро▓рпБроХрпНроХрпБ роХро╛роЯрпНроЯро╛роо ро╡ро│ро░рпНродрпНродро╛ропрпНроЩрпНроХро│ро╛!ЁЯЩИЁЯе│ЁЯШН.",  #Discord welcome messages end.
    "{first} роОроЩрпНроХро│рпБроХрпНроХрпБ роТро░рпБ роХродрпИ роЪрпКро▓рпНро▓ро┐роЯрпНроЯрпБ роЕрокрпНрокро▒роорпН рокрпЗроЪрпБроЩрпНроХ! ЁЯШН",
    "ро╡роирпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ роЪро╛родро╛ро░рог роЖро│рпН роЗро▓рпНро▓ рокропродрпНродрпБроХрпНроХрпЗ рокропроорпН роХро╛роЯрпНроЯрпБро░ро╡ройрпН ЁЯШО {first}.",
    "роХрпБро░рпБроиро╛родро╛! роЗродрпБроХрпНроХрпБ роорпЗро▓ родро╛роЩрпНроХ роорпБроЯро┐ропро╛родрпБ роХрпБро░рпБроиро╛родро╛... ЁЯе╢ЁЯдм.",
    "ЁЯО╝роЗро│роорпИ родро┐ро░рпБроорпНрокрпБродрпЗ рокрпБро░ро┐ропро╛род рокрпБродро┐ро░ро╛роЪрпНроЪрпЗ роЗродроп родрпБроЯро┐рокрпНрокро┐ро▓рпЗ рокройро┐ роХро╛родрпНродрпБроорпН роЪрпВроЯро╛роЪрпНроЪрпЗЁЯО╝",  #Tekken
    "Ok!",
    "{first}  родроЩрпНроХро│рпИ роЕродро┐роХроорпН родрпБройрпНрокрпБро▒рпБродрпНродро┐ропродрпБ ропро╛ро░рпН ?",
    "{first} роирпА роОройрпН роирогрпНрокрпЗройрпНроЯро╛ЁЯШН",
    "{first}  IPL ро▓ро┐ро▓рпН родроЩрпНроХро│рпБроХрпНроХрпБ рокро┐роЯро┐родрпНрод роЕрогро┐ роОродрпБ? ЁЯПП",
    "{first}, роирпА роТро░рпБ роЯрпБрокро╛роХрпНроХрпВро░рпН ЁЯШЭ",  #Hunter Hunter
    "{first} роЙроЩрпНроХро│рпБроХрпНроХрпБ Comedy рокрогрпНрог родрпЖро░ро┐ропрпБрооро╛? ЁЯШЗ.",  #One Punch man s2
    "роЬрпЖропро┐роХрпНроХро┐ро▒родрпБроХрпНроХрпБ роорпБройрпНройро╛роЯро┐ роХрпКрогрпНроЯро╛роЯрпБро▒родрпБроорпН роЬрпЖропро┐роЪрпНроЪродрпБроХрпНроХрпБ роЕрокрпНрокрпБро▒роорпН роЖроЯрпБро▒родрпБроорпН  роЕроХро░ро╛родро┐ропро┐ро▓рпЗ роЗро▓рпНро▓рпИ {first}",
    "ро╡ро╛ роороЪрпНроЪро╛ройрпН {first} роОрокрпНрокроЯро┐ роЗро░рпБроХрпНроХ? ЁЯШБ",
    "роРропрпНропрпЛ роУроЯрпБроЩрпНроХ роУроЯрпБроЩрпНроХ роЕроирпНрод роХрпКроЯро┐роп рооро┐ро░рпБроХроорпН karun┬еa роироорпНрооро│ роирпЛроХрпНроХро┐ родро╛ройрпН ро╡роирпНродрпБ роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒родрпБ!ЁЯШВЁЯПГтАНтЩВЁЯПГтАНтЩВ",  #One Punch ma
    "роЗроирпНрод роХрпБроЪрпНроЪро┐ роРро╕рпН ро╡рпИроХрпНроХрокрпЛро░рпНроХрпНроХрпБро│рпНро│ роТро│ро┐роЮрпНроЪрпБроХрпНроХро┐роЯрпНроЯрпБ ропро╛ро░рпН роХрпВроЯ роРро╕рпН рокро╛ропрпН ро╡ро┐ро│рпИропро╛роЯрпБро▒ро╛ройрпНЁЯдгЁЯШВ.",  #One Punch ma 
    "{first}, роОроЩрпНроХро│рпБроХрпНроХрпБ роТро░рпБ роХродрпИ роЪрпКро▓рпНро▓ро┐роЯрпНроЯрпБ роЕрокрпНрокро▒роорпН рокрпЗроЪрпБроЩрпНроХ! ЁЯШН",  #One Punch ma
    "роирпАроЩрпНроХ ро░рпКроорпНрок роЪрокрпНрок Member-роЖ роЗро░рпБроХрпНроХрпАроЩрпНроХ! ЁЯШВ {first}.",
    "роТро░рпЗ роЕроЯро┐ родро╛ройрпН роирпА роХро╛ро▓ро┐ ЁЯШП",
    "ЁЯОз роКро░ро╛рой роКро░рпБроХрпНроХрпБро│рпНро│ роТройрпНройрокрпНрокрпЛро▓ ропро╛ро░рпБроорпН роЗро▓рпНро▓. роЖройро╛ роирпА роОройрпНрой роороЯрпНроЯрпБроорпН роЪрпЗро░ро╡рпЗ роЗро▓рпНро▓. ",
    "ро╡рпЖро│ро┐роп рокрпЛроЩрпНроХроЯро╛ роЕропрпЛроХрпНроХро┐роп ро░ро╛ро╕рпНроХро▓рпНроХро│ро╛!ЁЯШП.",
    "роЗроирпНрод Area роЕроирпНрод Area роЕроирпНрод роЗроЯроорпН роЗроирпНрод роЗроЯроорпН роОроЩрпНроХрпИропрпБроорпН роОройроХрпНроХрпБ рокропроорпН роХрпЖроЯрпИропро╛родрпБроЯро╛ All Area-ро▓рпИропрпБроорпН Lucky роХро┐ро▓рпНро▓ро┐роЯро╛!ЁЯе│.",
    "роЙройрпНройрпИропрпЖро▓рпНро▓ро╛роорпН рокро╛ро░рпНродрпНрод роОройроХрпНроХрпБ рокро╛ро╡рооро╛ роЗро░рпБроХрпНроХрпБЁЯШВ",
    "роиро▓рпНро▓ро╛ роХрпБродрпНродро╛ро│родрпНродрпБро▓ роЗро░рпБроХрпНроХро╡рпЗрогрпНроЯро┐ропродрпЖро▓рпНро▓ро╛роорпН роЗроЩрпНроХрпЗ роЗро░рпБроХрпНроХрпБродрпБроЩрпНроХЁЯРТ.",
    "ЁЯО╡роХро░рпИ роПро▒ро┐ ро╡роирпНрод роорпАройрпБ роХро░рпБро╡ро╛роЯро╛ рокрпЛроХрпБроорпБройрпБ, рокрпБро░ро┐ропро╛роо рокрпЛроЪрпНроЪрпЗ роирогрпНрокро╛ .",
    "роирогрпНрокро░ро┐роЯроорпН рокрпЗроЪро┐ роЙро│рпНро│рпЗ роЪрпЖро▓рпНро▓рпБроЩрпНроХро│рпН.",
    "роЙроЩрпНроХро│рпИ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН",
    "рокрпБро│рпНро│ роХрпБроЯрпНроЯро┐роп рокроЯро┐роХрпНроХ ро╡рпЖропрпН рокрпЛ... ЁЯШЖ.",
    "роЯрпЗропрпН роЗроирпНрод рокроЪрпНроЪрпИ родрогрпНрогро┐роп роХрпБроЯро┐роЪрпНроЪро┐роЯрпНроЯрпБ рокро╛ропро╛роЪроорпН роЪро╛рокрпНроЯ рооро╛родро┐ро░ро┐ Buildup роХрпКроЯрпБроХрпНроХрпБро▒родрпЖро▓рпНро▓ро╛роорпН роОройрпНроХро┐роЯрпНроЯ ро╡рпЗрогро╛роорпН ЁЯдм",
    "ро╣рпЛро▓ро╛ {first}, рокрпЗро░ро┤ро┐ро╡рпБ роиро┐ро▓рпИроХро│рпН роЙро│рпНро│ро╡ро░рпНроХро│ро┐роЯроорпН роЬро╛роХрпНроХро┐ро░родрпИ",
    "роЯрпЗропрпН роиро╛ропрпЗ роирпАропро╛ роЗроирпНрод роирпЗро░родрпНродрпБро▓ роЗроЩрпНроХ роОроЩрпНроХроЯро╛ ро╡роирпНродЁЯШЕ.",
    "роЙроЯрпИроЮрпНроЪрпБ рокрпЛрой ро╡ро╛ро╕рпНродрпБ рокрпКроорпНроорпИроп роУроЯрпНроЯ ро╡роЪрпНроЪрооро╛родро┐ро░ро┐ роТро░рпБ роорпВроЮрпНроЪро┐ роЗро╡ройрпН Personality рокродрпНродро┐ рокрпЗроЪрпБро▒ро╛ройрпН роЯро╛ЁЯШВ.",
    "роЕропрпНропрпЛ ро░ро╛рооро╛! роОройрпНройрпИ роПройрпН роЗроирпНрод рооро╛родро┐ро░ро┐ роХро┤ро┐роЪрпНроЪроЯрпИ рокроЪроЩрпНроХ роХрпВроЯрпЖро▓рпНро▓ро╛роорпН роХрпВроЯрпНроЯрпБ роЪрпЗро░ ро╡рпЖроХрпНроХрпБро▒ЁЯШЦ",
    "pls роЙроЩрпНроХро│рпН родрпКро▓рпИрокрпЗроЪро┐ роОрогрпНрогрпИ ро╡рпЖро│ро┐рокрпНрокроЯрпБродрпНродрпБроЩрпНроХро│рпН",
    "роЯро╛роХрпНроЯро░рпН. рокро╛ро╡ро┐роХро│рпИ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН.",
    "роЙроЯрпИроЮрпНроЪрпБ рокрпЛрой ро╡ро╛ро╕рпНродрпБ рокрпКроорпНроорпИроп роУроЯрпНроЯ ро╡роЪрпНроЪрооро╛родро┐ро░ро┐ роТро░рпБ роорпВроЮрпНроЪро┐ роЗро╡ройрпН Personality рокродрпНродро┐ рокрпЗроЪрпБро▒ро╛ройрпН роЯро╛ЁЯШВ.",
    "{first} рооройроЪро╛ро░ роЪрпКро▓рпНро▒рпЗройрпН роЯро╛ роЪро╛родрпНродро┐ропрооро╛ роирпА роОро▓рпНро▓ро╛роорпН роЙро░рпБрокрпНрокроЯ рооро╛роЯрпНроЯ роЙро░рпБрокрпНрокроЯро╡рпЗ рооро╛роЯрпНроЯЁЯджтАНтЩА",  #tokyo ghoul
    " роЙроЩрпНроХро│рпБроХрпНроХрпБ рокро┐роЯро┐родрпНрод Video роЕро▓рпНро▓родрпБ Gif роР роЕройрпБрокрпНрокро╡рпБроорпН ЁЯе░",  #hunter x hunter
    "ро╡ро╛ роЪрпБро▓рпНродро╛ройрпН ро╡ро╛ роЪрпБро▓рпНродро╛ройрпН ро╡ро╛ роЪрпБро▓рпНродро╛ройрпН ро╡ро╛ роЙройроХрпНроХрпБройрпБ родро╛ройрпН родро░ро╡ро╛ родро░ро╡ро╛ роЙроЪрпБро░ родро░ро╡ро╛ {first} ",  #one Piece
    "роОро░рпБроорпИроХрпНроХрпБ роХрпВроЯ Blue Cross роЗро░рпБроХрпНроХрпБ {first}роХрпНроХро╛роХ ропрпЛроЪро┐роХрпНроХ роЙропро┐ро░ро╛ роЗро░рпБроХрпНроХрпБ! ЁЯе║",  #BNHA
    "роЕроЯро┐ро╡ро╛роЩрпНроХрпБро▒родрпБроХрпНроХрпБройрпЗ роЕро│ро╡рпЖроЯрпБродрпНродрпБ роЪрпЖроЮрпНроЪрооро╛родро┐ро░ро┐ роЗро░рпБроХрпНроХро╛ройрпНЁЯСКЁЯМ╖",  #Kamina Falls тАУ Gurren Lagann
    "роЕропрпНропропрпЛ!! *тАв.{first}роХрогроХрпНроХрпБ Teacher-роЕ ро╡роЪрпНроЪрпБро░рпБроХрпНроХро╛ройрпНроЯрпЛ роЕродрпИ роиро╛ройрпН рокро╛родрпНродрпБ рокрпЛроЯрпНроЯрпЗройрпНроЯрпЛ!ЁЯШВ.",  #Hellsing
    "роОроЩрпНроХро│рпБроХрпНроХрпБ роТро░рпБ роХродрпИ роЪрпКро▓рпНро▓ро┐роЯрпНроЯрпБ роЕрокрпНрокро▒роорпН рокрпЗроЪрпБроЩрпНроХ! ЁЯШН..",  #Neon Genesis: Evangelion
    "роЙро│рпНро│ ро╡роирпНродро╛ Power роЕроЯро┐ роЕрогрпНрогрпЗ ропро╛ро░рпБ родро│рокродро┐ЁЯШО",  #Pokemon
   
]
DEFAULT_GOODBYE_MESSAGES = [
    "роПройрпН роОройрпНройрпИ рокро┐ро░ро┐роирпНродро╛ропрпН роОройрпН роЙропро┐ро░рпЗ роОройрпН роЙропро┐ро░рпЗЁЯе║ЁЯТФ.",
    "родройро┐ропро╛роХ родро╡ро┐роХрпНроХро┐ройрпНро▒рпЗройрпН родрпБрогрпИро╡рпЗрогрпНроЯро╛роорпН роЕройрпНрокрпЗ рокрпЛЁЯе║.",
    "рооро▒роирпНродро╛ропрпЗ рооро▒роирпНродро╛ропрпЗ рокрпЖрогрпНрогрпЗ роОройрпНройрпИ роПройрпН рооро▒роирпНродро╛ропрпН роХроЯроирпНродрпЗродро╛ройрпН роироЯроирпНродро╛ропрпЗ ропро╛ро░рпЛ роОройрпНро▒рпБ роПройрпН роХроЯроирпНродро╛ропрпН!ЁЯе║ЁЯТФ.",
    "{first} has left the clan.",
    "{first} has left the game.",
    "рокрпЗроЪ родрпЖро░ро┐роЮрпНроЪро╛ рокрпЗроЪрпБ родрпЗро╡рпИропро┐ро▓рпНро▓ро╛роо рокрпЗроЪро┐ роЕроЯро┐ро╡ро╛роЩрпНроХро┐ роЪро╛роХродро╛ ЁЯдм.",
    "рооройроЪро╛ро░ роЪрпКро▓рпНро▒рпЗройрпН роЯро╛ роЪро╛родрпНродро┐ропрооро╛ роирпА роОро▓рпНро▓ро╛роорпН роЙро░рпБрокрпНрокроЯ рооро╛роЯрпНроЯ роЙро░рпБрокрпНрокроЯро╡рпЗ рооро╛роЯрпНроЯЁЯджтАНтЩА",
    "роЕропрпНропропрпЛ! роЗроирпНрод роЖро│рпБ Teacher-роЕ ро╡роЪрпНроЪрпБро░рпБроХрпНроХро╛ройрпНроЯрпЛ роЕродрпИ роиро╛ройрпН рокро╛родрпНродрпБ рокрпЛроЯрпНроЯрпЗройрпНроЯрпЛЁЯШЖ",
    "рокрпЛроЯ роОроЪрпНроЪ рокропро▓рпЗ ЁЯе╢ЁЯТж.",
    "We hope to see you again soon, {first}.",
    "роПройрпНроЯро╛ роЕро▒ро┐ро╡рпБроХрпЖроЯрпНроЯро╡ройрпЗ роЕро▒ро┐ро╡рпБ роЗро░рпБроХрпНроХро╛ роЙройроХрпНроХрпБ роороЯрокрпНрокропро▓рпЗ роорпБроЯрпНроЯро╛ рокропро▓рпЗ роЪрпЛродрпНродрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЗро▓рпНро▓ роЪрпЛродрпНродрпИ ро╡ро┐роЯрпНроЯрпБроЯрпНроЯрпБ ро▓роЯрпНроЯро┐ропрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЯро╛ЁЯШВЁЯШВЁЯдгЁЯдг.",
    "роЬро┐роЮрпНроЪро░рпН роИроЯрпНроЯро┐роЩрпНроХрпН роороЩрпНроХрпНроХро┐ ЁЯР╡",
    "роЕроЯрпЗропрпН рокрпКро▒роорпНрокрпЛроХрпНроХрпБ ро╡рпАроЯрпНро▓ роЪрпКро▓рпНро▓ро┐роЯрпНроЯрпБ ро╡роирпНродро┐ропро╛ ?.",
    "Please don't leave me alone in this place, {first}!",
    "роЕроЯро┐ро╡ро╛роЩрпНроХрпБро▒родрпБроХрпНроХрпБройрпЗ роЕро│ро╡рпЖроЯрпБродрпНродрпБ роЪрпЖроЮрпНроЪрооро╛родро┐ро░ро┐ роЗро░рпБроХрпНроХро╛ройрпНЁЯСК",
    "роОройрпНройрокрпНрокро╛ роЙройроХрпНроХрпБ рокро┐ро░роЪрпНроЪрой? ЁЯШг",
    "роЖрогро┐ропрпЗ рокрпБроЯрпБроЩрпНроХ ро╡рпЗрогро╛роорпНЁЯЩД.",
    "ропро╛ро░рпН роОроЯродрпНродрпБро▓ ро╡роирпНродрпБ  ропро╛ро░рпН Scene-роЕ рокрпЛроЯрпБро▒родрпБ  роЪрпЖроЮрпНроЪрпБро░рпБро╡рпЗройрпНЁЯШдЁЯШб.",
    "роорпВроЯро┐роЯрпНроЯрпБ рокрпЛроЯро╛ ро╡рпЖрогрпНрог! ЁЯШВ.",
    "роирпА рокрпЖро░ро┐роп роорпБроЯрпНроЯро╛ро│рпНройрпБ роОройроХрпНроХрпБ роОрокрпНрокропрпЛ родрпЖро░ро┐ропрпБроорпН! ЁЯШЬ",
    "рооройроЪро╛ро░ роЪрпКро▓рпНро▒рпЗройрпН роЯро╛ роЪро╛родрпНродро┐ропрооро╛ роирпА роОро▓рпНро▓ро╛роорпН роЙро░рпБрокрпНрокроЯ рооро╛роЯрпНроЯ роЙро░рпБрокрпНрокроЯро╡рпЗ рооро╛роЯрпНроЯЁЯджтАНтЩА",
    "рокрпЛ роирпА рокрпЛ ЁЯЪ╢тАНтЩВ",
    "роПрогрпНроЯро╛ роиро╛ропро╛ роЕроЯро┐роХрпНроХро┐ро▒ роиро╛ропрпЗЁЯР╢",
    "роЯрпЗропрпН роирпА роиро▓рпНро▓ро╛ роЗро░рпБроХрпНроХ рооро╛роЯрпНроЯроЯро╛ роиро▓рпНро▓ро╛ро╡рпЗ роЗро░рпБроХрпНроХ рооро╛роЯрпНроЯроЯро╛ роиро╛роЪрооро╛ рокрпЛройро╡ройрпНЁЯШСЁЯдз",
    "роЗродрпБ роОро▓рпНро▓ро╛роорпН роТро░рпБ рокрпКро┤рокрпНрокрпБ ЁЯе╡ рокрпЛропрпН рокро┐роЪрпНроЪрпИ роОроЯрпБ рокрпЛ",
    "роЕроЯро┐роЩрпНроХрпБ роУроЯро┐ рокрпЛ роиро╛ропрпЗ! ЁЯРХ",
    "роЕроЯрокрпНрокро╛ро╡ро┐ роЪрогрпНроЯро╛ро│ро╛ роирпАропро╛ роЯро╛ роОройрпНройрпИ роХро▓ро╛ропрпНроХрпНроХ ро╡роирпНродЁЯдз",
    "роЕроЯрокрпНрокро╛ро╡ро┐ роЪрогрпНроЯро╛ро│ро╛ роирпАропро╛ роЯро╛ роОройрпНройрпИ роХро▓ро╛ропрпНроХрпНроХ ро╡роирпНродЁЯдз",
    "роПройрпНроЯро╛ роЕро▒ро┐ро╡рпБроХрпЖроЯрпНроЯро╡ройрпЗ роЕро▒ро┐ро╡рпБ роЗро░рпБроХрпНроХро╛ роЙройроХрпНроХрпБ роороЯрокрпНрокропро▓рпЗ роорпБроЯрпНроЯро╛ рокропро▓рпЗ роЪрпЛродрпНродрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЗро▓рпНро▓ роЪрпЛродрпНродрпИ ро╡ро┐роЯрпНроЯрпБроЯрпНроЯрпБ ро▓роЯрпНроЯро┐ропрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЯро╛ЁЯШВЁЯШВЁЯдгЁЯдг",
    "роПройрпНроЯро╛ роЕро▒ро┐ро╡рпБроХрпЖроЯрпНроЯро╡ройрпЗ роЕро▒ро┐ро╡рпБ роЗро░рпБроХрпНроХро╛ роЙройроХрпНроХрпБ роороЯрокрпНрокропро▓рпЗ роорпБроЯрпНроЯро╛ рокропро▓рпЗ роЪрпЛродрпНродрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЗро▓рпНро▓ роЪрпЛродрпНродрпИ ро╡ро┐роЯрпНроЯрпБроЯрпНроЯрпБ ро▓роЯрпНроЯро┐ропрпИ родро┐роЩрпНроХро┐ро▒ро┐ропро╛ роЯро╛ЁЯШВЁЯШВЁЯдгЁЯдг",
    "роПрогрпНроЯро╛ роиро╛ропро╛ роЕроЯро┐роХрпНроХро┐ро▒ роиро╛ропрпЗЁЯР╢",
    "роОройрпНройрокрпНрокро╛ роЙройроХрпНроХрпБ рокро┐ро░роЪрпНроЪрой? ЁЯШг",
    "роЯрпЗропрпН роЗроирпНрод роОроХродрпНродро╛ро▓роорпЖро▓рпНро▓ро╛роорпН роОройрпНроХро┐роЯрпНроЯрпЗ ро╡рпЖроЪрпНроЪро┐роХрпНроХро╛родро╛",
    "ро╡ро╛ропрпНрокрпНрокро┐ро▓рпНро▓ ро░ро╛роЬро╛.",
    "роорпВроЯро┐роЯрпНроЯрпБ рокрпЛроЯро╛ ро╡рпЖрогрпНрог! ЁЯШВ",
    "рокрпЛроЯро╛ ЁЯжК роиро░ро┐",
    "роЯрпЗропрпН роОройроХрпНроХрпБ ро╡рпЖро▒ро┐ ро╡ро░рпНро▒родрпБроХрпНроХрпБро│рпНро│ роЗроЩрпНроХро┐ро░рпБроирпНродрпБ рокрпЛропрпНроЯрпБроЯро╛ЁЯШб",
    "ро░родрпНродроорпН роХроХрпНроХро┐ роЪро╛ро╡рпБ ЁЯЩК",
    "роОройрпНрой Look-роЙ роЕрокрпНрокроЯро┐ропрпЗ роХрогрпНрог рокрпБроЯрпБроЩрпНроХро┐ родро┐ройрпНройрпБрокрпБроЯрпБро╡рпЗройрпН роорпКроХро░рпИроп рокро╛ро░рпБ роорпКроХро░рпИроп роОройрпНрой роОройрпНройро╛роЯро╛ роОройрпНройро╛ЁЯШП.",
    "роЯрпЗропрпН роЯрпЗропрпН роорпВроЮрпНроЪро┐ропрпБроорпН роорпКроХро░рпИропрпБроорпН рокро╛ро░рпБЁЯдп",
    "роиро▓рпНро▓ро╡ро░рпНроХро│рпИ роироорпНрокрпБроЩрпНроХро│рпН",
    "роЗро▒рокрпНрокродро▒рпНроХрпБ ро╡ро╛ро┤рпНроХ.",
    "роЗроЮрпНроЪро┐ родро┐ройрпНрой роХрпКро░роЩрпНроХрпБ рооро╛ро▒ро┐ роЗро░рпБроХрпНроХ ЁЯР╡",
    "рокрпКрогрпНрог рокрпЖроХрпНроХ роЪрпКройрпНройро╛ рокрпКро▒рпБроХрпНроХро┐роп рокрпЖродрпНродрпБро╡ро┐роЯрпНроЯрпБро░рпБроХрпНроХро╛ропрпНроЩрпНроХ!ЁЯШВЁЯШТ",
    "роЕроЯро┐роЩрпНроХрпБ роУроЯро┐ рокрпЛ роиро╛ропрпЗ! ЁЯРХ",
    "рокро┐роЪро╛роЪрпБроХрпНроХрпБ рокрпКро▒роирпНрод рокро┐роЪро╛роЪрпЗЁЯС╗",
    "роорпВроЯро┐роЯрпНроЯрпБ рокрпЛроЯро╛ ро╡рпЖрогрпНрог! ЁЯШВ",
    "роЕро▒ро┐ро╡рпБ роХрпЖроЯрпНроЯ роиро╛родро╛ро░ро┐ЁЯШд",
    "роЯрпЗропрпН роОройроХрпНроХрпБ ро╡рпЖро▒ро┐ ро╡ро░рпНро▒родрпБроХрпНроХрпБро│рпНро│ роЗроЩрпНроХро┐ро░рпБроирпНродрпБ рокрпЛропрпНроЯрпБроЯро╛ЁЯШб",
    "рокройрпНройро┐роХрпНроХрпБроЯрпНроЯро┐ роОро▓рпНро▓ро╛роорпН рокроЮрпНроЪрпБ роЯропро▓ро╛роХрпН рокрпЗроЪрпБродроЯро╛ЁЯдп",
    "роирпА роороЩрпНроХрпБройро┐ роЕроорпИроЪрпНроЪро░рпН роОройрпНрокродрпИ роорогро┐роХрпНроХрпБ роТро░рпБроорпБро▒рпИ роиро┐ро░рпВрокро┐родрпНродрпБроХрпН роХрпКрогрпНроЯрпЗ роЗро░рпБроХрпНроХро┐ро▒ро╛ропрпН! ЁЯШВ",
    "роТро░рпБ рокро╛ро╡ро┐ роороЯрпНроЯрпБроорпЗ",
    "роЪрпЖройрпНро▒рпБ ро╡ро╛ро░рпБроЩрпНроХро│рпНЁЯе░",
    "роирпАроЩрпНроХро│рпН рокро╛ро░рпНродрпНрод рокро┐ро░роЪрпНроЪройрпИроХро│рпН ропро╛ро░рпБроХрпНроХрпБроорпН родрпЖро░ро┐ропро╛родрпБ",
    "роорпМройрооро╛рой рооро░рогроорпН роТройрпНро▒рпБ роЙропро┐ро░рпИ роХрпКрогрпНроЯрпБ рокрпЛройродрпЗ роЙропро░рооро╛рой роХройро╡рпБ роЗройрпНро▒рпБ родро░рпИропро┐ро▓рпН ро╡рпАро┤рпНроирпНродрпБ рокрпЛройродрпЗЁЯТФ",
    "роирпАроЩрпНроХро│рпН родро┐ро░рпБроорпНрок ро╡роирпНродро╛ро▓рпН роорпАрогрпНроЯрпБроорпН ро╡ро░ро╡рпЗро▒рпНроХ роХро╛родрпНродро┐ро░рпБрокрпНрокрпЗройрпНЁЯе│",
    "роЪрпЖройрпНро▒рпБ ро╡ро╛ро░рпБроЩрпНроХро│рпНЁЯе░",
    "ро╡рпЖро│ро┐роп рокрпЛроЩрпНроХроЯро╛ роЕропрпЛроХрпНроХро┐роп ро░ро╛ро╕рпНроХро▓рпНроХро│ро╛!ЁЯШП",
    "ро╡рпЖро│ро┐ропрпЗ роЪрпЖро▓рпН",
    "роХройро╡рпЗ роХройро╡рпЗ роХро▓рпИро╡родрпЗройрпЛ роХрогроЩрпНроХро│рпН ро░рогрооро╛ропрпН роХро░рпИро╡родрпЗройрпЛ роиро┐ройрпИро╡рпЗ роиро┐ройрпИро╡рпЗ роЕро░рпИро╡родрпЗройрпЛ роОройродрпБ роЙро▓роХроорпН роЙроЯрпИро╡родрпЗройрпЛЁЯТФ",
]
# Line 111 to 152 are references from https://bindingofisaac.fandom.com/wiki/Fortune_Telling_Machine


class Welcome(BASE):
    __tablename__ = "welcome_pref"
    chat_id = Column(String(14), primary_key=True)
    should_welcome = Column(Boolean, default=True)
    should_goodbye = Column(Boolean, default=True)
    custom_content = Column(UnicodeText, default=None)

    custom_welcome = Column(
        UnicodeText, default=random.choice(DEFAULT_WELCOME_MESSAGES)
    )
    welcome_type = Column(Integer, default=Types.TEXT.value)

    custom_leave = Column(UnicodeText, default=random.choice(DEFAULT_GOODBYE_MESSAGES))
    leave_type = Column(Integer, default=Types.TEXT.value)

    clean_welcome = Column(BigInteger)

    def __init__(self, chat_id, should_welcome=True, should_goodbye=True):
        self.chat_id = chat_id
        self.should_welcome = should_welcome
        self.should_goodbye = should_goodbye

    def __repr__(self):
        return "<Chat {} should Welcome new users: {}>".format(
            self.chat_id, self.should_welcome
        )


class WelcomeButtons(BASE):
    __tablename__ = "welcome_urls"
    id = Column(Integer, primary_key=True, autoincrement=True)
    chat_id = Column(String(14), primary_key=True)
    name = Column(UnicodeText, nullable=False)
    url = Column(UnicodeText, nullable=False)
    same_line = Column(Boolean, default=False)

    def __init__(self, chat_id, name, url, same_line=False):
        self.chat_id = str(chat_id)
        self.name = name
        self.url = url
        self.same_line = same_line


class GoodbyeButtons(BASE):
    __tablename__ = "leave_urls"
    id = Column(Integer, primary_key=True, autoincrement=True)
    chat_id = Column(String(14), primary_key=True)
    name = Column(UnicodeText, nullable=False)
    url = Column(UnicodeText, nullable=False)
    same_line = Column(Boolean, default=False)

    def __init__(self, chat_id, name, url, same_line=False):
        self.chat_id = str(chat_id)
        self.name = name
        self.url = url
        self.same_line = same_line


class WelcomeMute(BASE):
    __tablename__ = "welcome_mutes"
    chat_id = Column(String(14), primary_key=True)
    welcomemutes = Column(UnicodeText, default=False)

    def __init__(self, chat_id, welcomemutes):
        self.chat_id = str(chat_id)  # ensure string
        self.welcomemutes = welcomemutes


class WelcomeMuteUsers(BASE):
    __tablename__ = "human_checks"
    user_id = Column(Integer, primary_key=True)
    chat_id = Column(String(14), primary_key=True)
    human_check = Column(Boolean)

    def __init__(self, user_id, chat_id, human_check):
        self.user_id = user_id  # ensure string
        self.chat_id = str(chat_id)
        self.human_check = human_check


class CleanServiceSetting(BASE):
    __tablename__ = "clean_service"
    chat_id = Column(String(14), primary_key=True)
    clean_service = Column(Boolean, default=True)

    def __init__(self, chat_id):
        self.chat_id = str(chat_id)

    def __repr__(self):
        return "<Chat used clean service ({})>".format(self.chat_id)


Welcome.__table__.create(checkfirst=True)
WelcomeButtons.__table__.create(checkfirst=True)
GoodbyeButtons.__table__.create(checkfirst=True)
WelcomeMute.__table__.create(checkfirst=True)
WelcomeMuteUsers.__table__.create(checkfirst=True)
CleanServiceSetting.__table__.create(checkfirst=True)

INSERTION_LOCK = threading.RLock()
WELC_BTN_LOCK = threading.RLock()
LEAVE_BTN_LOCK = threading.RLock()
WM_LOCK = threading.RLock()
CS_LOCK = threading.RLock()


def welcome_mutes(chat_id):
    try:
        welcomemutes = SESSION.query(WelcomeMute).get(str(chat_id))
        if welcomemutes:
            return welcomemutes.welcomemutes
        return False
    finally:
        SESSION.close()


def set_welcome_mutes(chat_id, welcomemutes):
    with WM_LOCK:
        prev = SESSION.query(WelcomeMute).get((str(chat_id)))
        if prev:
            SESSION.delete(prev)
        welcome_m = WelcomeMute(str(chat_id), welcomemutes)
        SESSION.add(welcome_m)
        SESSION.commit()


def set_human_checks(user_id, chat_id):
    with INSERTION_LOCK:
        human_check = SESSION.query(WelcomeMuteUsers).get((user_id, str(chat_id)))
        if not human_check:
            human_check = WelcomeMuteUsers(user_id, str(chat_id), True)

        else:
            human_check.human_check = True

        SESSION.add(human_check)
        SESSION.commit()

        return human_check


def get_human_checks(user_id, chat_id):
    try:
        human_check = SESSION.query(WelcomeMuteUsers).get((user_id, str(chat_id)))
        if not human_check:
            return None
        human_check = human_check.human_check
        return human_check
    finally:
        SESSION.close()


def get_welc_mutes_pref(chat_id):
    welcomemutes = SESSION.query(WelcomeMute).get(str(chat_id))
    SESSION.close()

    if welcomemutes:
        return welcomemutes.welcomemutes

    return False


def get_welc_pref(chat_id):
    welc = SESSION.query(Welcome).get(str(chat_id))
    SESSION.close()
    if welc:
        return (
            welc.should_welcome,
            welc.custom_welcome,
            welc.custom_content,
            welc.welcome_type,
        )

    else:
        # Welcome by default.
        return True, DEFAULT_WELCOME, None, Types.TEXT


def get_gdbye_pref(chat_id):
    welc = SESSION.query(Welcome).get(str(chat_id))
    SESSION.close()
    if welc:
        return welc.should_goodbye, welc.custom_leave, welc.leave_type
    else:
        # Welcome by default.
        return True, DEFAULT_GOODBYE, Types.TEXT


def set_clean_welcome(chat_id, clean_welcome):
    with INSERTION_LOCK:
        curr = SESSION.query(Welcome).get(str(chat_id))
        if not curr:
            curr = Welcome(str(chat_id))

        curr.clean_welcome = int(clean_welcome)

        SESSION.add(curr)
        SESSION.commit()


def get_clean_pref(chat_id):
    welc = SESSION.query(Welcome).get(str(chat_id))
    SESSION.close()

    if welc:
        return welc.clean_welcome

    return False


def set_welc_preference(chat_id, should_welcome):
    with INSERTION_LOCK:
        curr = SESSION.query(Welcome).get(str(chat_id))
        if not curr:
            curr = Welcome(str(chat_id), should_welcome=should_welcome)
        else:
            curr.should_welcome = should_welcome

        SESSION.add(curr)
        SESSION.commit()


def set_gdbye_preference(chat_id, should_goodbye):
    with INSERTION_LOCK:
        curr = SESSION.query(Welcome).get(str(chat_id))
        if not curr:
            curr = Welcome(str(chat_id), should_goodbye=should_goodbye)
        else:
            curr.should_goodbye = should_goodbye

        SESSION.add(curr)
        SESSION.commit()


def set_custom_welcome(
    chat_id, custom_content, custom_welcome, welcome_type, buttons=None
):
    if buttons is None:
        buttons = []

    with INSERTION_LOCK:
        welcome_settings = SESSION.query(Welcome).get(str(chat_id))
        if not welcome_settings:
            welcome_settings = Welcome(str(chat_id), True)

        if custom_welcome or custom_content:
            welcome_settings.custom_content = custom_content
            welcome_settings.custom_welcome = custom_welcome
            welcome_settings.welcome_type = welcome_type.value

        else:
            welcome_settings.custom_welcome = DEFAULT_WELCOME
            welcome_settings.welcome_type = Types.TEXT.value

        SESSION.add(welcome_settings)

        with WELC_BTN_LOCK:
            prev_buttons = (
                SESSION.query(WelcomeButtons)
                .filter(WelcomeButtons.chat_id == str(chat_id))
                .all()
            )
            for btn in prev_buttons:
                SESSION.delete(btn)

            for b_name, url, same_line in buttons:
                button = WelcomeButtons(chat_id, b_name, url, same_line)
                SESSION.add(button)

        SESSION.commit()


def get_custom_welcome(chat_id):
    welcome_settings = SESSION.query(Welcome).get(str(chat_id))
    ret = DEFAULT_WELCOME
    if welcome_settings and welcome_settings.custom_welcome:
        ret = welcome_settings.custom_welcome

    SESSION.close()
    return ret


def set_custom_gdbye(chat_id, custom_goodbye, goodbye_type, buttons=None):
    if buttons is None:
        buttons = []

    with INSERTION_LOCK:
        welcome_settings = SESSION.query(Welcome).get(str(chat_id))
        if not welcome_settings:
            welcome_settings = Welcome(str(chat_id), True)

        if custom_goodbye:
            welcome_settings.custom_leave = custom_goodbye
            welcome_settings.leave_type = goodbye_type.value

        else:
            welcome_settings.custom_leave = DEFAULT_GOODBYE
            welcome_settings.leave_type = Types.TEXT.value

        SESSION.add(welcome_settings)

        with LEAVE_BTN_LOCK:
            prev_buttons = (
                SESSION.query(GoodbyeButtons)
                .filter(GoodbyeButtons.chat_id == str(chat_id))
                .all()
            )
            for btn in prev_buttons:
                SESSION.delete(btn)

            for b_name, url, same_line in buttons:
                button = GoodbyeButtons(chat_id, b_name, url, same_line)
                SESSION.add(button)

        SESSION.commit()


def get_custom_gdbye(chat_id):
    welcome_settings = SESSION.query(Welcome).get(str(chat_id))
    ret = DEFAULT_GOODBYE
    if welcome_settings and welcome_settings.custom_leave:
        ret = welcome_settings.custom_leave

    SESSION.close()
    return ret


def get_welc_buttons(chat_id):
    try:
        return (
            SESSION.query(WelcomeButtons)
            .filter(WelcomeButtons.chat_id == str(chat_id))
            .order_by(WelcomeButtons.id)
            .all()
        )
    finally:
        SESSION.close()


def get_gdbye_buttons(chat_id):
    try:
        return (
            SESSION.query(GoodbyeButtons)
            .filter(GoodbyeButtons.chat_id == str(chat_id))
            .order_by(GoodbyeButtons.id)
            .all()
        )
    finally:
        SESSION.close()


def clean_service(chat_id: Union[str, int]) -> bool:
    try:
        chat_setting = SESSION.query(CleanServiceSetting).get(str(chat_id))
        if chat_setting:
            return chat_setting.clean_service
        return False
    finally:
        SESSION.close()


def set_clean_service(chat_id: Union[int, str], setting: bool):
    with CS_LOCK:
        chat_setting = SESSION.query(CleanServiceSetting).get(str(chat_id))
        if not chat_setting:
            chat_setting = CleanServiceSetting(chat_id)

        chat_setting.clean_service = setting
        SESSION.add(chat_setting)
        SESSION.commit()


def migrate_chat(old_chat_id, new_chat_id):
    with INSERTION_LOCK:
        chat = SESSION.query(Welcome).get(str(old_chat_id))
        if chat:
            chat.chat_id = str(new_chat_id)

        with WELC_BTN_LOCK:
            chat_buttons = (
                SESSION.query(WelcomeButtons)
                .filter(WelcomeButtons.chat_id == str(old_chat_id))
                .all()
            )
            for btn in chat_buttons:
                btn.chat_id = str(new_chat_id)

        with LEAVE_BTN_LOCK:
            chat_buttons = (
                SESSION.query(GoodbyeButtons)
                .filter(GoodbyeButtons.chat_id == str(old_chat_id))
                .all()
            )
            for btn in chat_buttons:
                btn.chat_id = str(new_chat_id)

        SESSION.commit()
